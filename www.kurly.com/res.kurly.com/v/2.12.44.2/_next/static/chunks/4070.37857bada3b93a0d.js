"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4070],{32134:function(e,t,n){n.d(t,{v:function(){return i}});var r=n(92777),s=n(82262),a=n(59499),i=function(){function e(t,n,s){(0,r.Z)(this,e),(0,a.Z)(this,"name",void 0),(0,a.Z)(this,"eventData",void 0),(0,a.Z)(this,"contentItems",void 0),this.name=t,this.eventData=n,this.contentItems=s}return(0,s.Z)(e,[{key:"getName",value:function(){return this.name}},{key:"getEventData",value:function(){return this.eventData}},{key:"getContentItems",value:function(){return this.contentItems}}]),e}()},96773:function(e,t,n){n.d(t,{v:function(){return p.v},x:function(){return m}});var r=n(50029),s=n(92777),a=n(82262),i=n(59499),c=n(87794),u=n.n(c),o=n(62173),f=n(91544),h=n(23318),v=n(4853),k=n(84150),l=n(38135),g=function(){function e(){(0,s.Z)(this,e),(0,i.Z)(this,"instance",void 0),(0,i.Z)(this,"accessToken",void 0)}return(0,a.Z)(e,[{key:"getInstance",value:function(){var e=(0,r.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.instance){e.next=5;break}return e.next=3,n.e(87860).then(n.t.bind(n,87860,23));case 3:this.instance=e.sent.default,this.instance.init(h.sC);case 5:return e.abrupt("return",this.instance);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setAccessToken",value:function(e){this.accessToken=e}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"logEvent",value:function(){var e=(0,r.Z)(u().mark((function e(t){var n,r,s,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.sC){e.next=2;break}return e.abrupt("return");case 2:if(!(0,f.Sp)()){e.next=5;break}return l.Z.analyticsSendBranchEvent(t),e.abrupt("return");case 5:return e.next=7,this.getInstance();case 7:if(n=e.sent,!this.accessToken){e.next=14;break}return r=(0,v.b)(this.accessToken),s=r.uid,a=r.cartId,e.next=12,new Promise((function(e){return n.setIdentity(s||(a||"guest"),e)}));case 12:e.next=16;break;case 14:return e.next=16,new Promise((function(e){return n.setIdentity("guest",e)}));case 16:n.logEvent(t.getName(),t.getEventData(),t.getContentItems(),void 0,(function(e){e&&o.kg.error(e)})),o.kg.debug(t,"[BRANCH] Sent event: ".concat(t.getName()));case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openAppDownloadBanner",value:function(){var e=(0,r.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getInstance();case 2:t=e.sent,n={campaign:"Organic",channel:"Kurly_MobileWeb",feature:"Organic",stage:"Kurly_MobileWeb",tags:[location.href],alias:"",data:{custom_bool:!0,custom_int:Date.now(),custom_string:"",$og_title:k.i2,$og_description:k.DW,$og_image_url:"https://res.kurly.com/images/marketkurly/logo/logo_sns_marketkurly.jpg"}},t.setBranchViewData(n),t.closeJourney(),t.track("pageview");case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),p=n(32134),m=new g},4070:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(67294),s=n(22205),a=n(96773);function i(){var e=(0,s.v9)((function(e){return e.auth})).accessToken;return(0,r.useEffect)((function(){e&&a.x.setAccessToken(e)}),[e]),null}}}]);